package unlimited.litehacks.mods.exploit;

import it.unimi.dsi.fastutil.ints.Int2ObjectMap;
import it.unimi.dsi.fastutil.ints.Int2ObjectOpenHashMap;
import net.minecraft.item.ItemStack;
import net.minecraft.item.Items;
import net.minecraft.nbt.NbtCompound;
import net.minecraft.nbt.NbtList;
import net.minecraft.nbt.NbtString;
import net.minecraft.network.packet.c2s.play.*;
import net.minecraft.screen.slot.SlotActionType;
import net.minecraft.text.Text;
import net.minecraft.util.Hand;
import net.minecraft.util.math.BlockPos;
import net.minecraft.util.math.Direction;
import org.lwjgl.glfw.GLFW;
import unlimited.litehacks.mods.Module;
import unlimited.litehacks.mods.settings.BooleanSetting;
import unlimited.litehacks.mods.settings.ModeSetting;
import unlimited.litehacks.mods.settings.NumberSetting;

import java.util.Random;
import java.util.stream.Collectors;
import java.util.stream.IntStream;

public class Clicker extends Module {

    public NumberSetting clickSpeed = new NumberSetting("Speed", 0, 10, 1, 0.1);
    public ModeSetting clickType = new ModeSetting("Click", "right", "right", "left");

    public Clicker() {
        super("Clicker", "Super clicker", Category.EXPLOIT);
        addSettings(clickSpeed, clickType);
    }

    @Override
    public void onEnable() {
        assert mc.player != null;

    }

    @Override
    public void onDisable() {
        assert mc.player != null;

        super.onDisable();
    }

    @Override
    public void onTick() {


        if (!(mc.player == null)) {

            if (clickType.isMode("right")) {

                    for (int i = 0; i < clickSpeed.getValueFloat(); i++) {
                     //   mc.player.networkHandler.sendPacket(new PlayerActionC2SPacket(PlayerActionC2SPacket.Action., BlockPos.ORIGIN, Direction.DOWN));



                        mc.options.useKey.setPressed(true);

                        //mc.options.
                      //  mc.interactionManager.interactItem(mc.player, slot == 40 ? Hand.OFF_HAND : Hand.MAIN_HAND);


                    }

            }


            if (clickType.isMode("left")) {

                for (int i = 0; i < clickSpeed.getValueFloat(); i++) {
                    //   mc.player.networkHandler.sendPacket(new PlayerActionC2SPacket(PlayerActionC2SPacket.Action., BlockPos.ORIGIN, Direction.DOWN));


                    mc.options.attackKey.setPressed(true);
                    //mc.options.
                    //  mc.interactionManager.interactItem(mc.player, slot == 40 ? Hand.OFF_HAND : Hand.MAIN_HAND);


                }

            }


        }
        super.onTick();
    }



}
